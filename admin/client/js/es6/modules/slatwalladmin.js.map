{"version":3,"sources":["modules/slatwalladmin.ts"],"names":[],"mappings":"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","file":"modules/slatwalladmin.js","sourceRoot":"/Users/ryanmarchand/Sites/Slatwall/","sourcesContent":["/// <reference path=\"../../../../client/typings/tsd.d.ts\" />\n/// <reference path=\"../../../../client/typings/slatwallTypeScript.d.ts\" />\n\n//module slatwallAdmin{\n\tangular.module('slatwalladmin', ['ngSlatwall','ui.bootstrap','ngAnimate','ngRoute']).\n\tconfig(\n\t\t[\"$provide\",'$logProvider','$filterProvider','$httpProvider','$routeProvider','$injector','$locationProvider','datepickerConfig', 'datepickerPopupConfig',\n\t\tfunction ($provide, $logProvider,$filterProvider,$httpProvider,$routeProvider,$injector,$locationProvider,datepickerConfig, datepickerPopupConfig\n\t) {\n\t\tdatepickerConfig.showWeeks = false;\n\t\tdatepickerConfig.format = 'MMM dd, yyyy hh:mm a';\n\t\t\tdatepickerPopupConfig.toggleWeeksText = null;\n\t\tif(slatwallAngular.hashbang){\n\t\t\t$locationProvider.html5Mode( false ).hashPrefix('!');\n\t\t}\n\t\t//\n\t\t$provide.constant(\"baseURL\", $.slatwall.getConfig().baseURL);\n\t\t\n\t\tvar _partialsPath = $.slatwall.getConfig().baseURL + '/admin/client/partials/';\n\t\t\n\t\t$provide.constant(\"partialsPath\", _partialsPath);\n\t\t$provide.constant(\"productBundlePartialsPath\", _partialsPath+'productbundle/');\n\t\t//\n\t\n\t\tangular.forEach(slatwallAngular.constantPaths, function(constantPath,key){\n\t\t\tvar constantKey = constantPath.charAt(0).toLowerCase()+constantPath.slice(1)+'PartialsPath';\n\t\t\tvar constantPartialsPath = _partialsPath+constantPath.toLowerCase()+'/';\n\t\t\t$provide.constant(constantKey, constantPartialsPath);\n\t\t});\n\t\t\n\t\t\n\t\t$logProvider.debugEnabled( $.slatwall.getConfig().debugFlag );\n\t\t$filterProvider.register('likeFilter',function(){\n\t\t\treturn function(text){\n\t\t\t\tif(angular.isDefined(text) && angular.isString(text)){\n\t\t\t\t\treturn text.replace(new RegExp('%', 'g'), '');\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t\t\n\t\t$filterProvider.register('truncate',function(){\n\t\t\treturn function (input, chars, breakOnWord) {\n\t            if (isNaN(chars)) return input;\n\t            if (chars <= 0) return '';\n\t            if (input && input.length > chars) {\n\t                input = input.substring(0, chars);\n\t                if (!breakOnWord) {\n\t                    var lastspace = input.lastIndexOf(' ');\n\t                    //get last space\n\t                    if (lastspace !== -1) {\n\t                        input = input.substr(0, lastspace);\n\t                    }\n\t                }else{\n\t                    while(input.charAt(input.length-1) === ' '){\n\t                        input = input.substr(0, input.length -1);\n\t                    }\n\t                }\n\t                return input + '...';\n\t            }\n\t            return input;\n\t        };\n\t\t});\n\t\t\n\t\t$httpProvider.interceptors.push('slatwallInterceptor');\n\t\n\t\t// route provider configuration\n\t\t$routeProvider.when('/entity/:entityName/', {\n\t\t\ttemplate: function(params){\n\t\t\t\tvar entityDirectiveExists = $injector.has('sw'+params.entityName+'ListDirective');\n\t\t\t\tif(entityDirectiveExists){\n\t\t\t\t\treturn '<sw-'+params.entityName.toLowerCase()+'-list>';\n\t\t\t\t}else{\n\t\t\t\t\treturn '<sw-list></sw-list>';\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontroller: 'routerController'\n\t\t}).when('/entity/:entityName/:entityID', {\n\t\t\ttemplate: function(params){\n\t\t\t\tvar entityDirectiveExists = $injector.has('sw'+params.entityName+'DetailDirective');\n\t\t\t\tif(entityDirectiveExists){\n\t\t\t\t\treturn '<sw-'+params.entityName.toLowerCase()+'-detail>';\n\t\t\t\t}else{\n\t\t\t\t\treturn '<sw-detail></sw-detail>';\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontroller: 'routerController',\n\t\t}).otherwise({\n\t\t\ttemplateUrl: $.slatwall.getConfig().baseURL + '/admin/client/js/partials/otherwise.html',\n\t\t});  \n\t\n\t}]).run(['$rootScope','$filter','$anchorScroll','$slatwall','dialogService', function($rootScope,$filter,$anchorScroll, $slatwall ,dialogService) {\n\t    $anchorScroll.yOffset = 100;\n\t\n\t    $rootScope.openPageDialog = function( partial ) {\n\t    \tdialogService.addPageDialog( partial );\n\t    };\n\t    \n\t    $rootScope.closePageDialog = function( index ) {\n\t\t\tdialogService.removePageDialog( index );\n\t    };\n\t    \n\t    $rootScope.loadedResourceBundle = false;\n\t    $rootScope.loadedResourceBundle = $slatwall.hasResourceBundle();\n\t    \n\t    var rbListener = $rootScope.$watch('loadedResourceBundle',function(newValue,oldValue){\n\t   \t\tif(newValue !== oldValue){\n\t    \t\t$rootScope.$broadcast('hasResourceBundle');\n\t    \t\trbListener();\n\t    \t}\n\t    });\n\t\n\t}]).filter('entityRBKey',['$slatwall', function($slatwall) {\n\t\t\n\t  \treturn function(text){\n\t\t\tif(angular.isDefined(text) && angular.isString(text)){\n\t\t\t\ttext = text.replace('_', '').toLowerCase();\n\t\t\t\ttext = $slatwall.getRBKey('entity.'+text);\n\t\t\t\treturn text;\n\t\t\t}\n\t\t};\n\t}]);\n//}\n"]}