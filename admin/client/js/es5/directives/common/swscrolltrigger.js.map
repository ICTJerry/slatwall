{"version":3,"names":[],"mappings":"","sources":["directives/common/swscrolltrigger.js"],"sourcesContent":["angular.module('slatwalladmin').directive('swScrollTrigger', [\n    '$rootScope',\n    '$window',\n    '$timeout',\n    function ($rootScope, $window, $timeout) {\n        return {\n            link: function (scope, elem, attrs) {\n                var checkWhenEnabled, handler, scrollDistance, scrollEnabled;\n                $window = angular.element($window);\n                scrollDistance = 0;\n                if (attrs.infiniteScrollDistance != null) {\n                    scope.$watch(attrs.infiniteScrollDistance, function (value) {\n                        return scrollDistance = parseInt(value, 10);\n                    });\n                }\n                scrollEnabled = true;\n                checkWhenEnabled = false;\n                if (attrs.infiniteScrollDisabled != null) {\n                    scope.$watch(attrs.infiniteScrollDisabled, function (value) {\n                        scrollEnabled = !value;\n                        if (scrollEnabled && checkWhenEnabled) {\n                            checkWhenEnabled = false;\n                            return handler();\n                        }\n                    });\n                }\n                handler = function () {\n                    var elementBottom, remaining, shouldScroll, windowBottom;\n                    windowBottom = $window.height() + $window.scrollTop();\n                    elementBottom = elem.offset().top + elem.height();\n                    remaining = elementBottom - windowBottom;\n                    shouldScroll = remaining <= $window.height() * scrollDistance;\n                    if (shouldScroll && scrollEnabled) {\n                        if ($rootScope.$$phase) {\n                            return scope.$eval(attrs.infiniteScroll);\n                        }\n                        else {\n                            return scope.$apply(attrs.infiniteScroll);\n                        }\n                    }\n                    else if (shouldScroll) {\n                        return checkWhenEnabled = true;\n                    }\n                };\n                $window.on('scroll', handler);\n                scope.$on('$destroy', function () {\n                    return $window.off('scroll', handler);\n                });\n                return $timeout((function () {\n                    if (attrs.infiniteScrollImmediateCheck) {\n                        if (scope.$eval(attrs.infiniteScrollImmediateCheck)) {\n                            return handler();\n                        }\n                    }\n                    else {\n                        return handler();\n                    }\n                }), 0);\n            }\n        };\n    }\n]);\n\n//# sourceMappingURL=../../directives/common/swscrolltrigger.js.map"],"file":"directives/common/swscrolltrigger.js","sourceRoot":"/source/"}