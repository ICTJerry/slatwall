{"version":3,"names":[],"mappings":"","sources":["directives/collection/swcollectiontable.js"],"sourcesContent":["'use strict';\nangular.module('slatwalladmin').directive('swCollectionTable', [\n    '$http',\n    '$compile',\n    '$log',\n    'collectionPartialsPath',\n    'paginationService',\n    function ($http, $compile, $log, collectionPartialsPath, paginationService) {\n        return {\n            restrict: 'E',\n            templateUrl: collectionPartialsPath + \"collectiontable.html\",\n            scope: {\n                collection: \"=\",\n                collectionConfig: \"=\"\n            },\n            link: function (scope, element, attrs) {\n                var _collectionObject = scope.collection.collectionObject.charAt(0).toLowerCase() + scope.collection.collectionObject.slice(1);\n                var _recordKeyForObjectID = _collectionObject + 'ID';\n                scope.$watch('collection.pageRecords', function () {\n                    for (var record in scope.collection.pageRecords) {\n                        var _detailLink;\n                        var _editLink;\n                        var _pageRecord = scope.collection.pageRecords[record];\n                        var _objectID = _pageRecord[_recordKeyForObjectID];\n                        if (_objectID && _collectionObject !== 'country') {\n                            _detailLink = \"?slatAction=entity.detail\" + _collectionObject + \"&\" + _collectionObject + \"ID=\" + _objectID;\n                            _editLink = \"?slatAction=entity.edit\" + _collectionObject + \"&\" + _collectionObject + \"ID=\" + _objectID;\n                        }\n                        else if (_collectionObject === 'country') {\n                            _detailLink = \"?slatAction=entity.detail\" + _collectionObject + \"&countryCode=\" + _pageRecord[\"countryCode\"];\n                            _detailLink = \"?slatAction=entity.edit\" + _collectionObject + \"&countryCode=\" + _pageRecord[\"countryCode\"];\n                        }\n                        _pageRecord[\"detailLink\"] = _detailLink;\n                        _pageRecord[\"editLink\"] = _editLink;\n                    }\n                });\n                /*\n                 * Handles setting the key on the data.\n                 * */\n                angular.forEach(scope.collectionConfig.columns, function (column) {\n                    $log.debug(\"Config Key : \" + column);\n                    column.key = column.propertyIdentifier.replace(/\\./g, '_').replace(scope.collectionConfig.baseEntityAlias + '_', '');\n                });\n            }\n        };\n    }\n]);\n\n//# sourceMappingURL=../../directives/collection/swcollectiontable.js.map"],"file":"directives/collection/swcollectiontable.js","sourceRoot":"/source/"}